{% extends 'base.html' %} 
{% load static %} 

{% block title %}Create Course Video - Behind The Search{% endblock %} 

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/content/video-create.css' %}" />
<!-- Include Quill.js CSS -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
{% endblock %} 

{% block content %}
<div class="video-create-container">
  <div class="video-create-header">
    <h1>Create a New Course Video</h1>
    <a href="{% url 'video_list' %}" class="back-button">
      <i class="fas fa-arrow-left"></i> Back to Video List
    </a>
  </div>

  <div class="video-create-content">
    <form method="POST" enctype="multipart/form-data" id="video-form">
      {% csrf_token %}

      <div class="form-group">
        <label for="{{ form.title.id_for_label }}">Video Title</label>
        {{ form.title }}
        <div class="form-help">Choose a clear, descriptive title for your lesson</div>
      </div>

      <div class="form-group">
        <label for="{{ form.lesson_number.id_for_label }}">Lesson Number</label>
        {{ form.lesson_number }}
        <div class="form-help">Determines the order of this lesson in the course</div>
      </div>

      <div class="form-group description-group">
        <label for="{{ form.description.id_for_label }}">Description</label>
        <div id="description-editor"></div>
        {{ form.description.as_hidden }}
        <div class="form-help">Write a detailed description of what this lesson covers</div>
      </div>

      <div class="form-group upload-group">
        <label for="{{ form.video.id_for_label }}">Upload Video</label>
        <div class="video-upload-container">
          <div class="upload-preview">
            <i class="fas fa-file-video"></i>
            <span id="file-name">No file selected</span>
          </div>
          <label class="upload-button">
            <i class="fas fa-cloud-upload-alt"></i> Select Video
            <span class="visually-hidden">{{ form.video.label }}</span>
            {{ form.video }}
          </label>
        </div>
        <div class="form-help">Upload an MP4 video file (max size: 500MB)</div>
        <div id="upload-progress" class="upload-progress">
          <div class="progress-bar"></div>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="save-button">
          <i class="fas fa-save"></i> Publish Lesson
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %} 

{% block extra_js %}
<!-- Include Quill.js JavaScript -->
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
<script src="{% static 'js/content/video-create.js' %}"></script>
{% endblock %}
